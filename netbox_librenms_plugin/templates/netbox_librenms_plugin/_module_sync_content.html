{% load helpers %}
{% include 'inc/messages.html' %}

<!-- Module Sync Table -->
{% if module_sync.table %}
<div class="noprint d-flex justify-content-between align-items-center mt-3 mb-3">
    <div>
        <span class="text-muted">
            Showing inventory items from LibreNMS matched against NetBox module bays and module types.
        </span>
    </div>
    {% if module_sync.cache_expiry %}
        <div id="module-cache-countdown" class="me-3">
            Cache expires in: <span id="module-countdown-timer" data-expiry="{{ module_sync.cache_expiry|date:'c' }}"></span>
        </div>
    {% endif %}
</div>

<div class="card">
    {% include 'netbox_librenms_plugin/inc/paginator.html' with table=module_sync.table %}
    {% include 'inc/table.html' with table=module_sync.table %}
    {% include 'netbox_librenms_plugin/inc/paginator.html' with table=module_sync.table %}
</div>
{% else %}
<div class="card">
    <div class="card-body text-center text-muted py-4">
        <i class="mdi mdi-expansion-card-variant mdi-48px"></i>
        <p class="mt-2 mb-0">No inventory data loaded. Click <strong>Refresh Modules</strong> to fetch data from LibreNMS.</p>
    </div>
</div>
{% endif %}
